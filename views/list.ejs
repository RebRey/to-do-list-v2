<!-- ejs header layout -->
<%- include("header"); -%>

<!-- use an ejs tag to update the date -->
<div class="box" id="heading">
  <h1><%= listTitle %></h1>
</div>

<div class="box">
  <!-- Loop through the entre length of the newListItems array and render a newListItems for each item inside the array -->
  <% newListItems.forEach(function(item) { %>
  <!-- form for deleting items -->
  <form action="/delete" method="post">
    <div class="item">
      <!-- submit form when the checkbox is checked -->
      <input type="checkbox" name="checkbox" onChange ="this.form.submit()"/>
      <!-- Access the .name property to render the field value for name in the DB -->
      <p><%= item.name %></p>
    </div>
  </form>
  <% }); %>

  <!-- when a user adds a new item through the text input then that item gets saved under the variable named newItem -->
  <form class="item" action="/" method="post">
    <input
      type="text"
      name="newItem"
      placeholder="New Item"
      autocomplete="off"
      autofocus
    />
    <!-- when the user clicks the submit button, this will trigger a post request to the home route -->
    <button type="submit" name="list">+</button>
  </form>
</div>

<!-- ejs footer layout -->
<%- include("footer"); -%>
